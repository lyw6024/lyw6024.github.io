<!DOCTYPE html>
<html lang="en">
<head>
          <title>faint - [机械迷城] 利用bfs解开谜局</title>
        <meta charset="utf-8" />
        <meta name="generator" content="Pelican" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
        <link rel="stylesheet" type="text/css" href="theme/css/foundation.css" />
        <link rel="stylesheet" type="text/css" href="theme/css/style.css" />





</head>

<body>
        <header>
          <nav id="site-navigation" class="main-navigation navbar-fixed-top navbar-left" role="navigation">
            <div class="container" id="navigation_menu">
              <div class="navbar-header">
              <hgroup><h1><a class="navbar-brand" href="/">faint</a></h1></hgroup>
              </div>
        <ul>
        </ul>
            </div>
          </nav>
        </header>

        <div id="content" class="site-content grid-container full">
          <div class="container grid-x grid-margin-x">
              <div class="cell small-2"></div>
              <div id="primary" class="cell small-8 content-area">
              <main>
<article class="post-content">
  <header class="entry-header">
    <h2 class="entry-title">
      <a href="/p599.html" rel="bookmark"
         title="Permalink to [机械迷城] 利用bfs解开谜局">[机械迷城] 利用bfs解开谜局</a></h2>
 
  </header>
  <div class="entry-content">
  <!-- wp:paragraph -->
<p>在玩机械迷城，出现了这样一个谜局：</p>
<!-- /wp:paragraph -->
<!-- wp:image {"id":900,"sizeSlug":"large"} -->
<figure class="wp-block-image size-large"><img src="http://www.malic.xyz/wp-content/uploads/2020030508420300-FD9C2C2EDC9ABCBFF4553C95203A203B-1024x576.jpg" alt="[Image]" class="wp-image-900"/></figure>
<!-- /wp:image -->
<!-- wp:paragraph -->
<p>有7个位置，其中六个有棋子，一个为空，只允许两种走法：按棋子的方向向前走到一个空位；跳过1个相对方向的棋子到空位。可以将问题建模为：1表示向下，0表示空位，2表示向上，这样就是长度为7，仅含"012"的字符串，通过适当的变化从"1110222"变到"2220111"。而每次移动棋子可以描述成字符串的替换：1向下走和2向上走就是分别为"10"替换为"01","02"替换为"20"；跳一格是"120"替换为"021"，"012"替换为"210"。将整个过程进行BFS，由于我们要知道走法，所以需要将整个路径保存下来。</p>
<!-- /wp:paragraph -->
<!-- wp:codemirror-blocks/code-block {"mode":"python","mime":"text/x-python"} -->
<div class="wp-block-codemirror-blocks-code-block code-block"><pre>class iNode:
    def __init__(self,_ss,_pp):
        self.ss = _ss
        self.pp = _pp
    def getss(self):
        return self.ss
    def getpp(self):
        return self.pp
Q=[ iNode(&quot;1110222&quot;,&quot;1110222&quot;) ]
s=Q[0]
while len(Q)&amp;lt;20:
    s=Q[0]
    if(s.getss()==&quot;2220111&quot;):
        res = s.getpp()
        break
    Q.remove(Q[0])
    repPat =[(&quot;02&quot;,&quot;20&quot;),(&quot;10&quot;,&quot;01&quot;),(&quot;120&quot;,&quot;021&quot;),(&quot;012&quot;,&quot;210&quot;)]
    for it in repPat:
        if it[0] in s.getss():
            ns = s.getss().replace(it[0],it[1])
            Q.append(iNode(ns,s.getpp()+&quot;;&quot;+ns))
for i in res.split(&quot;;&quot;):
    print(i)
﻿</pre></div>
<!-- /wp:codemirror-blocks/code-block -->
<!-- wp:paragraph -->
<p>最后输出了结果：</p>
<!-- /wp:paragraph -->
<!-- wp:code -->
<pre class="wp-block-code"><code>1110222
1112022
1102122
1012122
1210122
1212102
1212120
1212021
1202121
0212121
2012121
2210121
2212101
2212011
2202111
2220111</code></pre>
<!-- /wp:code -->
<!-- wp:paragraph -->
<p>可以关注0的位置就可以知道应该移动哪一步棋子，这样就解出了这个小谜局</p>
<!-- /wp:paragraph -->
<!-- wp:image {"id":902,"sizeSlug":"large"} -->
<figure class="wp-block-image size-large"><img src="http://www.malic.xyz/wp-content/uploads/2020030508434100-FD9C2C2EDC9ABCBFF4553C95203A203B-1024x576.jpg" alt="[Image]" class="wp-image-902"/></figure>
<!-- /wp:image -->
  </div>
  <footer>
    <p>Published: <time datetime="2020-03-05T00:56:19+09:00">
      木 05 3月 2020
    </time></p>
    <address>
      By           <a href="/author/malic.html">malic</a>
    </address>
    <p>
        Category: <a href="/category/all.html">All</a>
    </p>
  </footer>
  </article>
              </main>
              </div>
              <div class="cell small-2"></div>
          </div>
        </div>
        <footer>
                <address>
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>,
                which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address>
        </footer>
</body>
</html>